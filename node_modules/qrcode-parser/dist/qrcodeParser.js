var e=require("jsqr"),r=require("upng-js");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),o=t(r),i=function(e){try{return Promise.resolve(new Promise(function(r,t){var i=new FileReader;i.readAsArrayBuffer(e),i.addEventListener("loadend",function(){var e=o.default.decode(i.result),u=o.default.toRGBA8(e)[0],a=n.default(new Uint8ClampedArray(u),e.width,e.height);null!==a?r(a.data):t(new Error("decode failed"))})}))}catch(e){return Promise.reject(e)}};module.exports=function(e){try{var r;return e instanceof File&&"[object File]"===Object.prototype.toString.call(e)?(r=e.slice(),Promise.resolve(i(r))):"string"==typeof e&&function(e){try{return btoa(atob(e))===e}catch(e){return!1}}(e)?(r=function(e,r,t){void 0===r&&(r=""),void 0===t&&(t=512);for(var n=atob(e),o=[],i=0;i<n.length;i+=t){for(var u=n.slice(i,i+t),a=new Array(u.length),s=0;s<u.length;s++)a[s]=u.charCodeAt(s);var c=new Uint8Array(a);o.push(c)}return new Blob(o,{type:r})}(e),Promise.resolve(i(r))):"string"==typeof e&&function(e){if("string"!=typeof e)throw new TypeError("Expected a string");if((e=e.trim()).includes(" "))return!1;try{return new URL(e),!0}catch(e){return!1}}(e)?Promise.resolve(new Promise(function(t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){o.status>=200&&o.status<300?i(r=o.response).then(function(e){return t(e)}).catch(function(e){return n(e)}):n(o.statusText)},o.onerror=function(){return n(o.statusText)},o.send()})):Promise.reject(new Error("The input type is invalid"))}catch(e){return Promise.reject(e)}};
//# sourceMappingURL=qrcodeParser.js.map
